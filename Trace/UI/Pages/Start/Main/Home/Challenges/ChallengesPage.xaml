<?xml version="1.0" encoding="UTF-8"?>
<ContentPage
	xmlns="http://xamarin.com/schemas/2014/forms"
	xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
	xmlns:locals="clr-namespace:Trace;assembly=Trace"
	xmlns:language="clr-namespace:Trace.Localization;assembly=Trace"
	x:Class="Trace.ChallengesPage"
	Title="{language:Translate Challenges}"
	Icon="trophy.png">
	<ContentPage.Resources>
		<ResourceDictionary>
			<locals:ByteArrayToChallengeImageConverter
				x:Key="arrayToimageConverter" />
		</ResourceDictionary>
	</ContentPage.Resources>
	<ContentPage.Content>
		<ListView
			x:Name="ChallengeListView"
			ItemsSource="{Binding Challenges}"
			ItemSelected="OnSelection"
			IsPullToRefreshEnabled="true"
			Refreshing="OnRefresh">
			<ListView.Header>
				<StackLayout
					Spacing="0">
					<Label
						Text="{Binding Summary}"
						FontAttributes="Bold"
						XAlign="Center" />
					<Label
						x:Name="PullUpHintLabel"
						Text="{language:Translate PullUpToUpdate}"
						XAlign="Center"
						FontSize="Small" />
				</StackLayout>
			</ListView.Header>
			<ListView.ItemTemplate>
				<DataTemplate>
					<ImageCell
						Text="{Binding Description}"
						Detail="{Binding Condition, StringFormat={language:Translate BikeCondition}"
						ImageSource="{Binding ThisCheckpoint.LogoImageFilePath, Converter={StaticResource arrayToimageConverter}}">
					</ImageCell>
				</DataTemplate>
			</ListView.ItemTemplate>
		</ListView>
	</ContentPage.Content>
</ContentPage>